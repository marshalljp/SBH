!function(u){"use strict";var a="devicePixelRatio"in window&&2<=parseInt(window.devicePixelRatio,10),e=u("body"),s=a?"data-loftocean-retina-image":"data-loftocean-normal-image",v=e.hasClass("rtl"),i=!1,n=!1,t=(u("head"),0);u.fn.loftoceanImageLoading=function(){var a=u(this).add(u(this).find("[data-loftocean-image=1]")).filter("[data-loftocean-image=1]"),e=u(this).add(u(this).find('img[data-loftocean-loading-image="on"]')).filter('img[data-loftocean-loading-image="on"]');return loftoceanImageLoad.lazyLoadEnabled?(a.length&&(i=i&&i.length?i.add(a):a),e.length&&(n=n&&n.length?n.add(e):e),u(window).trigger("startLazyLoad.loftocean")):(a.length&&a.each(function(){var a,e,t=u(this);t.attr("data-loftocean-image")&&(a=t.prop("tagName"),e=t.attr(s),u(new Image).on("load",function(){t.css("transition","none"),"IMG"==a?t.attr("src",e).removeAttr("style"):t.css({"background-image":"url("+e+")",filter:""}),t.css("transition",""),t.removeAttr("data-loftocean-retina-image").removeAttr("data-loftocean-normal-image").removeAttr("data-loftocean-image")}).attr("src",e))}),e.length&&e.each(function(){u(this).attr("data-loftocean-loading-image")&&(u(this).data("srcset")&&u(this).attr("srcset",u(this).data("srcset")).removeAttr("data-srcset"),u(this).data("loftocean-lazy-load-sizes")&&u(this).attr("sizes",u(this).data("loftocean-lazy-load-sizes")).removeAttr("data-loftocean-lazy-load-sizes"),u(this).data("src")&&u(this).attr("src",u(this).data("src")).removeAttr("data-src"),u(this).removeAttr("data-loftocean-loading-image").css({filter:"",opacity:""}))})),this},loftoceanImageLoad.lazyLoadEnabled&&(u(window).on("startLazyLoad.loftocean",function(a){var t=u(window).scrollTop()+u(window).height(),o=u();i&&i.length&&(i.each(function(){var a=u(this),e=a.attr(s);e&&parseInt(a.offset().top-t,10)<100&&(u(new Image).on("load",function(){a.css("transition","none"),a.css({"background-image":"url("+e+")",filter:""}),a.css("transition",""),a.removeAttr("data-loftocean-retina-image").removeAttr("data-loftocean-normal-image").removeAttr("data-loftocean-image")}).attr("src",e),o=o.add(a))}),o.length&&(i=i.not(o))),n&&n.length&&(o=u(),n.each(function(){u(this).attr("data-loftocean-loading-image")&&parseInt(u(this).offset().top-t,10)<100&&(u(this).data("srcset")&&u(this).attr("srcset",u(this).data("srcset")).removeAttr("data-srcset"),u(this).data("loftocean-lazy-load-sizes")&&u(this).attr("sizes",u(this).data("loftocean-lazy-load-sizes")).removeAttr("data-loftocean-lazy-load-sizes"),u(this).data("src")&&u(this).attr("src",u(this).data("src")).removeAttr("data-src"),u(this).removeAttr("data-loftocean-loading-image").css({filter:"",opacity:""}),o=o.add(u(this)))}),o.length&&(n=n.not(o)))}).on("scroll",function(a){var e=u(this).scrollTop();t<e&&u(this).trigger("startLazyLoad.loftocean"),t=e}).on("load",function(a){u(this).trigger("startLazyLoad.loftocean")}),u("body *").on("scroll",function(){u(window).trigger("startLazyLoad.loftocean")})),document.addEventListener("DOMContentLoaded",function(){u("body").loftoceanImageLoading(),u("body").on("click","#page .loftocean-gallery-zoom",function(a){a.preventDefault();var e=u("body"),t=u(this).parent(),a=t.children(".image-gallery").first();e.hasClass("gallery-zoom")?(e.removeClass("gallery-zoom"),t.removeClass("fullscreen")):(e.addClass("gallery-zoom"),t.addClass("fullscreen")),a.slick("slickSetOption","speed",500,!0)}).on("click",".post-content-gallery.justified-gallery-initialized .gallery-item, .portfolio-gallery.gallery-justified .gallery-item",function(a){a.preventDefault();var e,t,o=u(this).closest(".justified-gallery-initialized").data("gallery-id");o&&u(".loftocean-popup-sliders ."+o).length&&(e=u("body"),t=u(this).index(),o=(a=u(".loftocean-popup-sliders ."+o)).children(".image-gallery").first(),e.hasClass("gallery-zoom")||(e.addClass("gallery-zoom"),a.addClass("fullscreen").removeClass("hide"),o.slick("slickGoTo",t).slick("slickSetOption","speed",500,!0)))}).on("click",".loftocean-popup-sliders .loftocean-popup-gallery-close",function(a){a.preventDefault();var e=u("body"),a=u(this).parent();e.hasClass("gallery-zoom")&&(e.removeClass("gallery-zoom"),a.removeClass("fullscreen").addClass("hide"))}).on("click","#secondary .cs-form-wrap .has-dropdown",function(a){a.preventDefault(),a.stopImmediatePropagation();a=u(this).siblings(".csf-dropdown");a.length&&(a.hasClass("is-open")?(a.removeClass("is-open"),a.closest(".cs-form-field").length&&a.closest(".cs-form-field").removeClass("loftocean-highlighted")):(u(".csf-dropdown").removeClass("is-open"),u(".csf-dropdown").closest(".cs-form-field").length&&u(".csf-dropdown").closest(".cs-form-field").removeClass("loftocean-highlighted"),a.addClass("is-open"),a.closest(".cs-form-field").length&&a.closest(".cs-form-field").addClass("loftocean-highlighted")))}).on("click","#secondary .cs-form-wrap .minus",function(a){if(a.preventDefault(),"on"==u(this).data("disabled")||u(this).hasClass("disabled"))return"";var e=u(this),t=e.parent().data("label"),o=e.parents(".field-wrap").first().find(".field-input-wrap input"),s=loftoceanImageLoad.reservation[t],i=e.siblings("input").first(),n=parseInt(i.val(),10),l=i.data("min"),r=!!s&&new RegExp("\\d+ ("+loftoceanImageLoad.reservation[t].plural+"|"+loftoceanImageLoad.reservation[t].single+")","ig");if(!i.length||!o.length)return"";a=o.val()||"",l=void 0===l||isNaN(l)||l<1?0:l,n=isNaN(n)?1:n;n=Math.max(n<1?0:n-1,l),i.val(n),a=o.hasClass("separated-guests")?n:(i=s&&void 0!==loftoceanImageLoad.reservation[t].usePluralIfZero&&loftoceanImageLoad.reservation[t].usePluralIfZero,s&&r.test(a)?0===n?a.replace(r,n+" "+loftoceanImageLoad.reservation[t][i?"plural":"single"]):a.replace(r,n+" "+loftoceanImageLoad.reservation[t][n<2?"single":"plural"]):(r=n,s?(r+=0===n?" "+loftoceanImageLoad.reservation[t][i?"plural":"single"]:" "+loftoceanImageLoad.reservation[t][n<2?"single":"plural"],a?"adult"==t?r+", "+a:a+", "+r:r):r)),o.val(a),e.siblings(".plus").removeClass("disabled").data("disabled","").removeAttr("disabled"),l===n&&e.data("disabled","on").addClass("disabled").attr("disabled","disabled"),e.siblings("input").trigger("loftocean.number.changed",[!1,e])}).on("click","#secondary .cs-form-wrap .plus",function(a){if(a.preventDefault(),"on"==u(this).data("disabled")||u(this).hasClass("disabled"))return"";var e=u(this),t=e.parent().data("label"),o=e.parents(".field-wrap").first().find(".field-input-wrap input"),s=loftoceanImageLoad.reservation[t],i=e.siblings("input").first(),n=parseInt(i.val(),10),l=i.data("max")||Number.MAX_SAFE_INTEGER,r=!!s&&new RegExp("\\d+ ("+loftoceanImageLoad.reservation[t].plural+"|"+loftoceanImageLoad.reservation[t].single+")","ig");if(!i.length||!o.length)return"";a=o.val()||"";n=(n=isNaN(n)?1:n)<1?1:n+1,void 0===l||isNaN(l)||(n=Math.min(l,n)),i.val(n),a=o.hasClass("separated-guests")?n:s&&r.test(a)?a.replace(r,n+" "+loftoceanImageLoad.reservation[t][n<2?"single":"plural"]):(r=n,s?(r+=" "+loftoceanImageLoad.reservation[t][n<2?"single":"plural"],a?"adult"==t?r+", "+a:a+", "+r:r):r),o.val(a),e.siblings(".minus").removeClass("disabled").removeAttr("disabled").data("disabled",""),e.siblings("input").trigger("loftocean.number.changed",[!0,e])}).on("click",function(a){var e=u(a.target),a=u(".csf-dropdown.is-open");!a.length||e.is(".cs-has-dropdown, .has-dropdown")||e.parents(".cs-has-dropdown, .has-dropdown").length||(a.removeClass("is-open"),a.closest(".cs-form-field").length&&a.closest(".cs-form-field").removeClass("loftocean-highlighted"))});var s,i,n,l,r,d,c,f,g,h,t,o,p=u("body.rooms-search-results #secondary .cs-form-wrap");p.length&&(s=p.data("date-format")?p.data("date-format"):"YYYY-MM-DD",i=p.data("display-date-format")?p.data("display-date-format"):"YYYY-MM-DD",n=p.find(".field-input-wrap.checkin-date input.check-in-date"),l=n.closest(".cs-form-field.cs-check-in"),r=p.find(".field-input-wrap.checkout-date input"),d=r.closest(".cs-form-field.cs-check-out"),c=p.find(".cs-form-field-group.date-group"),f=c.length,g=f?n.siblings("span.input"):"",h=f?r.siblings("span.input"):"",t=p.find(".date-range-picker"),o=d.length?d.outerHeight(!0):0,n.val(moment(n.data("value")).format(i)),r.val(moment(r.data("value")).format(i)),f&&(g.text(moment(n.data("value")).format(i)),h.text(moment(r.data("value")).format(i))),t.daterangepicker({minDate:moment().format(s),startDate:n.data("value"),endDate:r.data("value"),locale:{format:s},autoApply:!0}).on("apply.daterangepicker",function(a,e){var t=e.startDate.format(s),o=e.endDate.format(s);u(this).val(t+" - "+o),n.val(e.startDate.format(i)).data("value",t),r.val(e.endDate.format(i)).data("value",o),f?(g.text(e.startDate.format(i)),h.text(e.endDate.format(i)).css("opacity",""),c.removeClass("loftocean-highlighted")):(l.removeClass("loftocean-highlighted"),d.removeClass("loftocean-highlighted"),e.container.css({transform:"",transition:""}))}).on("show.daterangepicker",function(a,e){e.popupSingle=!1,e.container.removeClass("single").find(".drp-calendar.right").show(),e.container.outerWidth(!0)<558?(e.popupSingle=!0,e.container.addClass("single").find(".drp-calendar.right").hide()):(e.popupSingle=!1,e.container.removeClass("single").find(".drp-calendar.right").show()),e.renderCalendar("left"),f?c.addClass("loftocean-highlighted"):(l.addClass("loftocean-highlighted"),d.removeClass("loftocean-highlighted"))}).on("setStartDate.daterangepicker",function(a,e){f?(g.text(e.startDate.format(i)),h.css("opacity",0)):(n.val(e.startDate.format(i)),r.val(""),l.removeClass("loftocean-highlighted"),d.addClass("loftocean-highlighted"),e.container.css({transform:"translateY("+o+"px)",transition:"0.15s"}))}).on("outsideClick.daterangepicker",function(a,e){e.oldStartDate&&(f?(g.text(e.oldStartDate.format(i)),h.text(e.oldEndDate.format(i)).css("opacity","")):(n.val(e.oldStartDate.format(i)),r.val(e.oldEndDate.format(i)))),f?c.removeClass("loftocean-highlighted"):(l.removeClass("loftocean-highlighted"),d.removeClass("loftocean-highlighted"),e.container.css({transform:"",transition:""}))}),p.find(".checkin-date, .checkout-date, .cs-form-field-group.date-group .cs-form-field-group-inner").on("click",function(a){var e=t.data("daterangepicker");e.setStartDate(n.data("value")),e.setEndDate(r.data("value")),e.show()})),(p=u("body.rooms-search-results #secondary .cs-reservation-form .cs-form-wrap")).length&&p.submit(function(a){["checkin-date","checkout-date"].forEach(function(a){var e;p.find(".field-input-wrap."+a+" input").length&&(e=a.split("-")[0],a=p.find(".field-input-wrap."+a+" input").last(),(p.children('input[type="hidden"][name="'+e+'"]').length?p.children('input[type="hidden"][name="'+e+'"]'):u("<input>",{type:"hidden",name:e}).appendTo(p)).val(a.data("value")))});var e="roomSearchNonce",t=p.serializeArray();(p.children('input[type="hidden"][name="'+e+'"]').length?p.children('input[type="hidden"][name="'+e+'"]'):u("<input>",{type:"hidden",name:e}).appendTo(p)).val(btoa(JSON.stringify(t)))});var e,a=u(".posts.layout-carousel .posts-wrapper");a.length&&(e=[{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:800,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}],a.each(function(){var a=u(this).parent().find(".post").length,a=Math.min(Math.max(parseInt(a,10),1),4);u(this).on("init",function(a){u.fn.loftoceanImageLoading&&u(this).loftoceanImageLoading()}).slick({dots:!1,arrows:!0,infinite:!0,fade:!1,speed:700,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!0,rtl:v,slidesToShow:a,slidesToScroll:1,swipeToSlide:!0,responsive:e.slice(-a)})}));a=u(".room-top-section .cs-gallery.gallery-carousel.variable-width .cs-gallery-wrap");a.length&&a.each(function(){u(this).on("init",function(a){u(this).find(".hide").removeClass("hide")}).slick({dots:!0,arrows:!0,rtl:v,slidesToShow:1,infinite:!0,speed:500,centerMode:!0,variableWidth:!0})});var m=u(".room-top-section .cs-gallery.gallery-mosaic .cs-gallery-item > a");m.length&&(new SimpleLightbox(".room-top-section .cs-gallery.gallery-mosaic .cs-gallery-item > a",{}),u(".room-top-section .cs-gallery-view-all").on("click",function(a){a.preventDefault(),m.eq(0).find("img").trigger("click")})),u(window).on("resize",function(a){var e=u("input.date-range-picker");e.length&&e.each(function(){var a=u(this).data("daterangepicker");void 0!==a&&"none"!=a.container.css("display")&&u(this).trigger("show.daterangepicker",a)})})})}(jQuery);